create table deposit_sender (amount numeric(16,2) not null, created_at timestamp(6) not null, deposit_sender_id bigint not null, cpf varchar(20) not null, full_name varchar(30) not null, terminal_id varchar(255) not null, primary key (deposit_sender_id));
create table tb_customer (birth_date date not null, status integer not null, created_at timestamp(6) not null, customer_id bigint not null, updated_at timestamp(6) not null, cpf varchar(20) not null unique, document_id varchar(20) not null, phone_number varchar(20) not null, first_name varchar(30) not null, last_name varchar(30) not null, email varchar(80) not null unique, full_name varchar(80) not null, primary key (customer_id));
create table tb_deposit_money (deposit_sender_id_fk bigint unique, transaction_id bigint not null, primary key (transaction_id));
create table tb_movement_transfer (amount numeric(16,2) not null, operation_type integer not null, created_at timestamp(6) not null, movement_id bigint not null, transaction_id bigint not null, transaction_to_id bigint, wallet_id bigint not null, wallet_to_id bigint, primary key (movement_id));
create table tb_transaction (amount numeric(16,2) not null, current_balance numeric(16,2) not null, operation_type integer not null, previous_balance numeric(16,2) not null, status_transaction integer not null, created_at timestamp(6) not null, movement_id_fk bigint, transaction_id bigint not null, wallet_id_fk bigint not null, login varchar(25) not null, primary key (transaction_id));
create table tb_transfer_received (transaction_id bigint not null, primary key (transaction_id));
create table tb_transfer_send (transaction_id bigint not null, primary key (transaction_id));
create table tb_wallet (current_balance numeric(16,2) not null, previous_balance numeric(16,2) not null, status integer not null, created_at timestamp(6) not null, customer_id_fk bigint not null, updated_at timestamp(6) not null, wallet_id bigint not null, login_user varchar(20) not null, primary key (wallet_id));
create table tb_withdraw (transaction_id bigint not null, primary key (transaction_id));
alter table if exists tb_deposit_money add constraint FKnmdhopmrcu9l6i5nwnv89owxo foreign key (deposit_sender_id_fk) references deposit_sender;
alter table if exists tb_deposit_money add constraint FKb4ewxqiomjywrv0gohvmev7xc foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transaction add constraint FK97wfyyi1d7ur13ojvjsie6u4o foreign key (movement_id_fk) references tb_movement_transfer;
alter table if exists tb_transaction add constraint FKe6l8islbgracnpha5p4dum9rd foreign key (wallet_id_fk) references tb_wallet;
alter table if exists tb_transfer_received add constraint FKi4r4kjeepqvjo5ncy03ub3s66 foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transfer_send add constraint FK556o0dp8w5w3eftrrigimcoup foreign key (transaction_id) references tb_transaction;
alter table if exists tb_wallet add constraint FK1h86ccbts2343mol8btdlrkt9 foreign key (customer_id_fk) references tb_customer;
alter table if exists tb_withdraw add constraint FKpu0i2ggikpxv5r9widq2sxjhq foreign key (transaction_id) references tb_transaction;
create table deposit_sender (amount numeric(16,2) not null, created_at timestamp(6) not null, deposit_sender_id bigint not null, cpf varchar(20) not null, full_name varchar(30) not null, terminal_id varchar(255) not null, primary key (deposit_sender_id));
create table tb_customer (birth_date date not null, status integer not null, created_at timestamp(6) not null, customer_id bigint not null, updated_at timestamp(6) not null, cpf varchar(20) not null unique, document_id varchar(20) not null, phone_number varchar(20) not null, first_name varchar(30) not null, last_name varchar(30) not null, email varchar(80) not null unique, full_name varchar(80) not null, primary key (customer_id));
create table tb_deposit_money (deposit_sender_id_fk bigint unique, transaction_id bigint not null, primary key (transaction_id));
create table tb_movement_transfer (amount numeric(16,2) not null, operation_type integer not null, created_at timestamp(6) not null, movement_id bigint not null, transaction_id bigint not null, transaction_to_id bigint, wallet_id bigint not null, wallet_to_id bigint, primary key (movement_id));
create table tb_transaction (amount numeric(16,2) not null, current_balance numeric(16,2) not null, operation_type integer not null, previous_balance numeric(16,2) not null, status_transaction integer not null, created_at timestamp(6) not null, movement_id_fk bigint, transaction_id bigint not null, wallet_id_fk bigint not null, login varchar(25) not null, primary key (transaction_id));
create table tb_transfer_received (transaction_id bigint not null, primary key (transaction_id));
create table tb_transfer_send (transaction_id bigint not null, primary key (transaction_id));
create table tb_wallet (current_balance numeric(16,2) not null, previous_balance numeric(16,2) not null, status integer not null, created_at timestamp(6) not null, customer_id_fk bigint not null, updated_at timestamp(6) not null, wallet_id bigint not null, login_user varchar(20) not null, primary key (wallet_id));
create table tb_withdraw (transaction_id bigint not null, primary key (transaction_id));
alter table if exists tb_deposit_money add constraint FKnmdhopmrcu9l6i5nwnv89owxo foreign key (deposit_sender_id_fk) references deposit_sender;
alter table if exists tb_deposit_money add constraint FKb4ewxqiomjywrv0gohvmev7xc foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transaction add constraint FK97wfyyi1d7ur13ojvjsie6u4o foreign key (movement_id_fk) references tb_movement_transfer;
alter table if exists tb_transaction add constraint FKe6l8islbgracnpha5p4dum9rd foreign key (wallet_id_fk) references tb_wallet;
alter table if exists tb_transfer_received add constraint FKi4r4kjeepqvjo5ncy03ub3s66 foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transfer_send add constraint FK556o0dp8w5w3eftrrigimcoup foreign key (transaction_id) references tb_transaction;
alter table if exists tb_wallet add constraint FK1h86ccbts2343mol8btdlrkt9 foreign key (customer_id_fk) references tb_customer;
alter table if exists tb_withdraw add constraint FKpu0i2ggikpxv5r9widq2sxjhq foreign key (transaction_id) references tb_transaction;
create table deposit_sender (amount numeric(16,2) not null, created_at timestamp(6) not null, deposit_sender_id bigint not null, cpf varchar(20) not null, full_name varchar(30) not null, terminal_id varchar(255) not null, primary key (deposit_sender_id));
create table tb_customer (birth_date date not null, status integer not null, created_at timestamp(6) not null, customer_id bigint not null, updated_at timestamp(6) not null, cpf varchar(20) not null unique, document_id varchar(20) not null, phone_number varchar(20) not null, first_name varchar(30) not null, last_name varchar(30) not null, email varchar(80) not null unique, full_name varchar(80) not null, primary key (customer_id));
create table tb_deposit_money (deposit_sender_id_fk bigint unique, transaction_id bigint not null, primary key (transaction_id));
create table tb_movement_transfer (amount numeric(16,2) not null, operation_type integer not null, created_at timestamp(6) not null, movement_id bigint not null, transaction_id bigint not null, transaction_to_id bigint, wallet_id bigint not null, wallet_to_id bigint, primary key (movement_id));
create table tb_transaction (amount numeric(16,2) not null, current_balance numeric(16,2) not null, operation_type integer not null, previous_balance numeric(16,2) not null, status_transaction integer not null, created_at timestamp(6) not null, movement_id_fk bigint, transaction_id bigint not null, wallet_id_fk bigint not null, login varchar(25) not null, primary key (transaction_id));
create table tb_transfer_received (transaction_id bigint not null, primary key (transaction_id));
create table tb_transfer_send (transaction_id bigint not null, primary key (transaction_id));
create table tb_wallet (current_balance numeric(16,2) not null, previous_balance numeric(16,2) not null, status integer not null, created_at timestamp(6) not null, customer_id_fk bigint not null, updated_at timestamp(6) not null, wallet_id bigint not null, login_user varchar(20) not null, primary key (wallet_id));
create table tb_withdraw (transaction_id bigint not null, primary key (transaction_id));
alter table if exists tb_deposit_money add constraint FKnmdhopmrcu9l6i5nwnv89owxo foreign key (deposit_sender_id_fk) references deposit_sender;
alter table if exists tb_deposit_money add constraint FKb4ewxqiomjywrv0gohvmev7xc foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transaction add constraint FK97wfyyi1d7ur13ojvjsie6u4o foreign key (movement_id_fk) references tb_movement_transfer;
alter table if exists tb_transaction add constraint FKe6l8islbgracnpha5p4dum9rd foreign key (wallet_id_fk) references tb_wallet;
alter table if exists tb_transfer_received add constraint FKi4r4kjeepqvjo5ncy03ub3s66 foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transfer_send add constraint FK556o0dp8w5w3eftrrigimcoup foreign key (transaction_id) references tb_transaction;
alter table if exists tb_wallet add constraint FK1h86ccbts2343mol8btdlrkt9 foreign key (customer_id_fk) references tb_customer;
alter table if exists tb_withdraw add constraint FKpu0i2ggikpxv5r9widq2sxjhq foreign key (transaction_id) references tb_transaction;
create table deposit_sender (amount numeric(16,2) not null, created_at timestamp(6) not null, deposit_sender_id bigint not null, cpf varchar(20) not null, full_name varchar(30) not null, terminal_id varchar(255) not null, primary key (deposit_sender_id));
create table tb_customer (birth_date date not null, status integer not null, created_at timestamp(6) not null, customer_id bigint not null, updated_at timestamp(6) not null, cpf varchar(20) not null unique, document_id varchar(20) not null, phone_number varchar(20) not null, first_name varchar(30) not null, last_name varchar(30) not null, email varchar(80) not null unique, full_name varchar(80) not null, primary key (customer_id));
create table tb_deposit_money (deposit_sender_id_fk bigint unique, transaction_id bigint not null, primary key (transaction_id));
create table tb_movement_transfer (amount numeric(16,2) not null, operation_type integer not null, created_at timestamp(6) not null, movement_id bigint not null, transaction_id bigint not null, transaction_to_id bigint, wallet_id bigint not null, wallet_to_id bigint, primary key (movement_id));
create table tb_transaction (amount numeric(16,2) not null, current_balance numeric(16,2) not null, operation_type integer not null, previous_balance numeric(16,2) not null, status_transaction integer not null, created_at timestamp(6) not null, movement_id_fk bigint, transaction_id bigint not null, wallet_id_fk bigint not null, login varchar(25) not null, primary key (transaction_id));
create table tb_transfer_received (transaction_id bigint not null, primary key (transaction_id));
create table tb_transfer_send (transaction_id bigint not null, primary key (transaction_id));
create table tb_wallet (current_balance numeric(16,2) not null, previous_balance numeric(16,2) not null, status integer not null, created_at timestamp(6) not null, customer_id_fk bigint not null, updated_at timestamp(6) not null, wallet_id bigint not null, login_user varchar(20) not null, primary key (wallet_id));
create table tb_withdraw (transaction_id bigint not null, primary key (transaction_id));
alter table if exists tb_deposit_money add constraint FKnmdhopmrcu9l6i5nwnv89owxo foreign key (deposit_sender_id_fk) references deposit_sender;
alter table if exists tb_deposit_money add constraint FKb4ewxqiomjywrv0gohvmev7xc foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transaction add constraint FK97wfyyi1d7ur13ojvjsie6u4o foreign key (movement_id_fk) references tb_movement_transfer;
alter table if exists tb_transaction add constraint FKe6l8islbgracnpha5p4dum9rd foreign key (wallet_id_fk) references tb_wallet;
alter table if exists tb_transfer_received add constraint FKi4r4kjeepqvjo5ncy03ub3s66 foreign key (transaction_id) references tb_transaction;
alter table if exists tb_transfer_send add constraint FK556o0dp8w5w3eftrrigimcoup foreign key (transaction_id) references tb_transaction;
alter table if exists tb_wallet add constraint FK1h86ccbts2343mol8btdlrkt9 foreign key (customer_id_fk) references tb_customer;
alter table if exists tb_withdraw add constraint FKpu0i2ggikpxv5r9widq2sxjhq foreign key (transaction_id) references tb_transaction;
